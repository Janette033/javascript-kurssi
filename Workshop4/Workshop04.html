<!doctype html>
<HTML lang="en">
<head>
    <title>Workshop 4</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body class="ws4">
    <h1 id="muutettavaOtsikko">Workshop 4: DOM Scripting</h1>
    <hr />
    <p>In this exercise we will practice the art of DOM Scripting with JavaScript. Use the lecture-material as a reference guide side by side these exercises. It might also be a good idea to save the lines of code you write during the exercises for later use.</p>

    <hr/>
    <h2>Exercise 1: Basic DOM Manipulation</h2>
    <p>&nbsp;Below you will see three buttons. Edit the source code and add an onClick-events to these buttons. Use Developer Console to find the </p>
    <p>
        <button onclick="changeHeading();">Button 1</button>
        <button id="toinenNappi">Button 2</button>
        <button onclick="thirdButton();">Button 3</button>
    </p>

    <ul>
        <li>The first button should run a JavaScript-function, which will find the reference to &quot;Workshop 4&quot; heading on this page and change the contents of it to &quot;Modified Heading!&quot;.</li>
        <li>The second button should run a function, which will modify the style of the &quot;Exercise 2&quot; heading on this page. JavaScript should change at least the font size, style and color and the background color</li>
        <li>The third button should append the following text paragraph after the <strong>4th paragraph tag &lt;p&gt;</strong> on the page (without overwriting the current content). Change the background of the entire page as well. Note: The Lorem ipsum text should be in italics. It should also add a logo image of some sort after the text.<br>
            <br>
            <strong id="lorem"><em>&quot;Lorem ipsum&quot;</em></strong><em> dolor sit amet, consectetuer adipiscing elit. Sed posuere interdum sem. Quisque ligula eros ullamcorper quis, lacinia quis facilisis sed sapien. Mauris varius diam vitae arcu. Sed arcu lectus auctor vitae, consectetuer et venenatis eget velit. &quot;</em>
        </li>
    </ul>
    <hr/>
    <h2 id="harjoitusOtsikko">Exercise 2: DOM Traversing using ID's and classes</h2>
    <p class="surprise">Add onchange -events to following checkboxes.</p>
    <p>
        <label>
            <input onchange="hide()" name="CheckboxGroup1" type="checkbox" id="CheckboxGroup1_0" title="Actions" value="1">
            Hide me 
        </label>
        <br>
        <label>
            <input onchange="show()" type="checkbox" name="CheckboxGroup1" value="2" id="CheckboxGroup1_1">
            Show me
        </label>
        <br>
        <label>
            <input onchange="surprise()" type="checkbox" name="CheckboxGroup1" value="3" id="CheckboxGroup1_2"> 
            <span id="surpise">Surprise</span>
        </label>
    </p>
    <ul>
        <li>First checkbox: Find out which element has been described with the id &quot;me&quot;. Change the visibility (display value) of the element to none. What happens?</li>
        <li>Second checkbox should return the visibility of the element to a normal state (block).</li>
        <li>Third checkbox should find the elements with class &quot;surprise&quot; and change the font size to 20.</li>
    </ul>
    <div id="me" class="red-box"></div>
    <p>&nbsp;</p>
    <hr/>
    <h2>Exercise 3: Images and pulldowns</h2>
    <ul>
        <li>Write a JavaScript function, which will fire when the pulldown menu item is changed. Show the users choice using alert -box.</li>
        <li>When the mouse is moved on top of the image, a colored border should appear surrounding it. On mouse out, border should disappear</li>
        <li>When you have accomplished the above, change the image (id=&quot;carimage&quot;) below based on the users choice on the pulldown menu below. Find appropriate images from the web.</li>
    </ul>
    <p>Select a new car from the list.</p>
    <select name="mySelect" id="mySelect" onchange="muutosLaatikossa()">
        <option value="BMW">BMW         
        <option value="Audi">Audi
        <option value="Mercedes">Mercedes
        <option value="Volvo">Volvo
    </select>
    <br>
    <br>
    <img alt="" onmouseover="addBorder()" onmouseout="removeBorder()" style="left: 0px; opacity: 1;" src="https://vectorportal.com/storage/sports-car-vectorportal_12667.jpg" width="400" id="carimage"/>
    <hr/>
    <h2>Exercise 4: Moving things around</h2>
    <ul>
        <li>
            <p class="surprise">You can do neat things by editing CSS-rules via JavaScript. See the examples in lecture slides. Then try these:</p>
            <ol>
                <li><button onclick="changePosition()">Move!</button>Select the div with an id &quot;carimage&quot; and move it 200px left and 500px down</li>
                <li><button onclick="setInterval(function(){doMove();},1000);">Animate</button> Write a function doMove() which will move the image across the screen, or even better: back and forth on the screen. The Interval required has already been added to the onclick -event of the list item.</li>
                <li><button onclick="setInterval(function(){fadeOut();},250);">Fade out!</button> Write a function fadeOut() which will slowly decrease the opacity of the image from 1.0 to 0 making it fade out. The Interval required has already been added to the onclick -event of the list item.</li>
                <li><button onclick="remove()">Disappear!</button>Finally, write JavaScript which will remove the image from the page</li>
            </ol>
        </li>
    </ul>
    <hr/>
    <h2>Exercise 5: Tables</h2>
    <ul>
        <li class="surprise">Write a JavaScript function to add rows to a table. Rows can contain preset values.</li>
        <li>When your code is working, try reading the content to be added from a set of fields below the table.</li>
    </ul>
    <br>
    <table id="data" class="display">
        <thead>
            <tr>
                <th>Name</th>
                <th>Position</th>
                <th>Salary</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Tiger Nixon</td>
                <td>System Architect</td>
                <td>$320,800</td>
            </tr>
            <tr>
                <td>Garrett Winters</td>
                <td>Accountant</td>
                <td>$170,750</td>
            </tr>
            <tr>
                <td>Ashton Cox</td>
                <td>Junior Technical Author</td>
                <td>$86,000</td>
            </tr>
            <tr>
                <td>Cedric Kelly</td>
                <td>Senior Javascript Developer</td>
                <td>$433,060</td>
            </tr>
            <tr>
                <td>Airi Satou</td>
                <td>Accountant</td>
                <td>$162,700</td>
            </tr>
        </tbody>
        <tfoot>
        </tfoot>
    </table>
    <p>
        Name
        <label for="textfield">:</label>
        <input type="text" name="textfield" id="textfield">
        <br>
        Position:
        <input type="text" name="textfield2" id="textfield2">
        <br>
        Salary: 
        <input type="text" name="textfield3" id="textfield3">
        <br>
        <input type="button" onclick="insertRows()" name="Insert" id="Insert" value="Insert">
    </p>
    <hr/>
    <h2>Bonus exercises for the enthusiasts</h2>
    <ul>
        <li dir="ltr">
            <p dir="ltr">Write a loop, which goes through all the LI tags in the page and replaces them with a &lt;strong&gt; tagged, red text saying &quot;Replaced&quot;.</p>
        </li>
        <li dir="ltr">How would you replace the contents only on the ones with the word &lsquo;Select&rsquo; in them?</li>
    </ul>

    <script>
        // Exercise 1

        // EKA NAPPI
        function changeHeading() {
            document.getElementById('muutettavaOtsikko').innerHTML = "Modified Heading!";
        }
        // TOKA NAPPI
        function secondButton() {
            const otsikonTyylittely = document.getElementById('harjoitusOtsikko')
            otsikonTyylittely.style.color = 'red'; 
        }

        document.getElementById("toinenNappi").addEventListener('click', secondButton);

        // KOLMAS NAPPI
        function thirdButton() {
            const newParagraph = document.createElement("p");
            newParagraph.innerHTML = `<em><strong>&quot;Lorem ipsum&quot;</strong> dolor sit amet, consectetuer adipiscing elit. Sed posuere interdum sem. Quisque ligula eros ullamcorper quis, lacinia quis facilisis sed sapien. Mauris varius diam vitae arcu. Sed arcu lectus auctor vitae, consectetuer et venenatis eget velit.&quot;</em>`;


            
            const paragraphs = document.getElementsByTagName("p");
            paragraphs[3].parentNode.insertBefore(newParagraph, paragraphs[4]);
            
            // Logo tekstin perään
            const newImage = document.createElement("img");
            newParagraph.appendChild(newImage);
            newImage.src = "https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/95ac6003-aa2b-4987-9b71-9edf0bb1e8bd/d70v697-6d206c7d-e805-4aa6-9121-e903f9dfcf46.png/v1/fit/w_800,h_600,q_70,strp/cute_little_panda_logo_by_bevouliin_d70v697-414w-2x.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7ImhlaWdodCI6Ijw9NjAwIiwicGF0aCI6IlwvZlwvOTVhYzYwMDMtYWEyYi00OTg3LTliNzEtOWVkZjBiYjFlOGJkXC9kNzB2Njk3LTZkMjA2YzdkLWU4MDUtNGFhNi05MTIxLWU5MDNmOWRmY2Y0Ni5wbmciLCJ3aWR0aCI6Ijw9ODAwIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmltYWdlLm9wZXJhdGlvbnMiXX0.SFKblSdQgEd3iDA6UPAEtd9f8x-LUR0B8jUrgWICbUs";
            newImage.width = 40;
            newImage.style.verticalAlign = "middle"; 
            newImage.style.marginLeft = "10px";  
    
            document.body.style.backgroundColor = "LightSteelBlue";
        }

        // Exercise 2

        // Koska me=id käyttämisestä ei tapahtunut mitään, käytettiin CheckboxGroup1_0, joka piilotetaan
        function hide() {
            const meElement = document.getElementById('CheckboxGroup1_0');
            meElement.style.display = "none";  
        }
		// Palauttaa taas näkyväksi
        function show() {
            const meElement = document.getElementById('CheckboxGroup1_0');
            meElement.style.display = "inline-block";  
        }
		// Muutetaan "Add onchange -events to following checkboxes." tekstin kokoa
        function surprise() {
            const yllatus = document.getElementsByClassName('surprise'); { 
                yllatus[0].style.fontSize = "20px"; 
            }
        }

		// Exercise 3

		function muutosLaatikossa() {
			const valittuElementti = document.getElementById("mySelect");

			// Haetaan valittu auto
			const valittuAuto = valittuElementti.value;

			// Näytetään käyttäjälle valittu auto alert-ikkunassa
			alert("Valitsit: " + valittuAuto);

			const carImage = document.getElementById('carimage');
			
			if (valittuAuto === "BMW") {
                carImage.src = "https://vectorportal.com/storage/bmw-x6.jpg";
            } else if (valittuAuto === "Audi") {
                carImage.src = "https://vectorportal.com/storage/audi-car-vector_9140.jpg";
            } else if (valittuAuto === "Mercedes") {
                carImage.src = "https://vectorportal.com/storage/mercedes-benz-vectorportal.jpg";
            } else if (valittuAuto === "Volvo") {
                carImage.src = "https://vectorportal.com/storage/volvo-xc-coupe.jpg";
		}
		}

		function addBorder() {
            const carImage = document.getElementById('carimage');
            carImage.style.border = '5px solid pink';  // Lisätään pinkit reunat
        }

        // Funktio poistaa pinkin reunuksen, kun hiiri poistuu kuvan päältä
        function removeBorder() {
            const carImage = document.getElementById('carimage');
            carImage.style.border = 'none';  
        }

		// Ecercise 4

		function changePosition() {
			const carImage = document.getElementById('carimage');
			carImage.style.position = "absolute";
			carImage.style.left = "200px"; // Siirrä 200px vasemmalle
			carImage.style.top = "500px";  // Siirrä 500px alas
		}

		let position = -40;  // Alkuasento vasemmalla
		let direction = 3;  // Alkuun liikutaan oikealle
		const speed = 14;   // Pikseliä per päivitys
		const limit = 900;  // Raja, johon asti kuva liikkuu

		function doMove() {
			const carImage = document.getElementById('carimage');
			
			
			carImage.style.position = "absolute";

			// Päivitetään kuvan sijaintia vasemmalle oikealle suunnan mukaan
			position += speed * direction;
			
			// Jos saavutetaan raja, käännetään suunta
			if (position >= limit || position <= 0) {
				direction *= -1; // Vaihdetaan liikesuunta
			}

			// Päivitetään kuvan sijainti
			carImage.style.left = position + "px";
		}

		

		let opacity = 1;


		function fadeOut() {
			var element = document.getElementById("carimage");

			opacity -= 0.1; // Vähennä läpinäkyvyyttä
			element.style.opacity = opacity; // Päivitä läpinäkyvyys

			if (opacity <= 0) { // Tarkistetaan, onko opacity nolla tai vähemmän
				opacity = 1; // Asetetaan opacity takaisin ykköseksi
				element.style.opacity = opacity; // Päivitä läpinäkyvyys	
			}
		}

		function remove() {
            var element = document.getElementById("carimage"); 
            element.remove(); // Poistetaan kuva
        
        }
		// Ecercise 5
		function insertRows() {
			// Haetaan elementit
			const nimi = document.getElementById('textfield').value;
			const position = document.getElementById('textfield2').value;
			const palkka = document.getElementById('textfield3').value;

			// Uusi row
			const table = document.getElementById('data').getElementsByTagName('tbody')[0];
			const uusiRow = table.insertRow();

		
			const tekstikenttä1 = uusiRow.insertCell(0); // Nimi
			const tekstikenttä2 = uusiRow.insertCell(1); // Position
			const tekstikenttä3 = uusiRow.insertCell(2); // Palkka
			// Lisätään käyttäjän syöttämät tiedot 
			tekstikenttä1.textContent = nimi;
			tekstikenttä2.textContent = position;
			tekstikenttä3.textContent = palkka;

			// Tyhjät syöttökentät
			document.getElementById('textfield').value = '';
			document.getElementById('textfield2').value = '';
			document.getElementById('textfield3').value = '';
		}



    </script>
</body>
</html>



